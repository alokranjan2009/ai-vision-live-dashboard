<!DOCTYPE html>
<html>
<head>
    <title>NeoShiv AI Verse</title>
    <style>
        body {
            background: #0b0f1a;
            color: #00ffff;
            font-family: Arial;
            text-align: center;
        }
        video {
            width: 70%;
            margin-top: 20px;
            border: 2px solid cyan;
            box-shadow: 0 0 20px cyan;
        }
        button {
            padding: 10px 20px;
            margin: 10px;
            background: black;
            color: cyan;
            border: 1px solid cyan;
            cursor: pointer;
        }
    </style>
</head>
<body>

<h1>ðŸ§  NeoShiv AI-Verse Dashboard</h1>
<h3 id="status">Status: IDLE</h3>

<video id="player" controls autoplay></video>

<br>
<button onclick="send('awaken')">ðŸ”¥ Awaken</button>
<button onclick="send('reset')">âš  Reset Matrix</button>

<script>
async function refresh() {
    const res = await fetch("/state");
    const data = await res.json();

    document.getElementById("status").innerText =
        "Status: " + data.state;

    if (data.video) {
        const player = document.getElementById("player");
        const src = "/static/videos/" + data.video;
        if (player.src.indexOf(src) === -1) {
            player.src = src;
            player.play();
        }
    }
}

async function send(cmd) {
    await fetch("/command", {
        method: "POST",
        headers: {"Content-Type": "application/json"},
        body: JSON.stringify({command: cmd})
    });
    refresh();
}

setInterval(refresh, 2000);
</script>

</body>
</html>
